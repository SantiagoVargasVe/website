---
import "animate.css";
---

<section class="mt-10 flex flex-col w-full items-center">
  <h1
    class="text-emerald-300 text-4xl font-roboto text-center font-semibold line mb-10"
  >
    Hi, my name is Santiago Vargas <br /> and I am a

    <span id="change-text"></span>
  </h1>
  <img
    class="fill rounded-full w-80 aspect-square object-cover"
    src="./public/assets/avatar.png"
  />

  <style>
    #change-text {
      /* animation-name: bounce-in-top;
      animation-duration: 3s; */
    }

    @keyframes bounce-in-top {
      0% {
        -webkit-transform: translateY(-500px);
        transform: translateY(-500px);
        -webkit-animation-timing-function: ease-in;
        animation-timing-function: ease-in;
        opacity: 0;
      }
      38% {
        -webkit-transform: translateY(0);
        transform: translateY(0);
        -webkit-animation-timing-function: ease-out;
        animation-timing-function: ease-out;
        opacity: 1;
      }
      55% {
        -webkit-transform: translateY(-65px);
        transform: translateY(-65px);
        -webkit-animation-timing-function: ease-in;
        animation-timing-function: ease-in;
      }
      72% {
        -webkit-transform: translateY(0);
        transform: translateY(0);
        -webkit-animation-timing-function: ease-out;
        animation-timing-function: ease-out;
      }
      81% {
        -webkit-transform: translateY(-28px);
        transform: translateY(-28px);
        -webkit-animation-timing-function: ease-in;
        animation-timing-function: ease-in;
      }
      90% {
        -webkit-transform: translateY(0);
        transform: translateY(0);
        -webkit-animation-timing-function: ease-out;
        animation-timing-function: ease-out;
      }
      95% {
        -webkit-transform: translateY(-8px);
        transform: translateY(-8px);
        -webkit-animation-timing-function: ease-in;
        animation-timing-function: ease-in;
      }
      100% {
        -webkit-transform: translateY(0);
        transform: translateY(0);
        -webkit-animation-timing-function: ease-out;
        animation-timing-function: ease-out;
      }
    }
  </style>
  <script>
    const changeText = document.getElementById("change-text");
    let index = 0;

    const setOfWords = [
      "software engineer",
      "student",
      "geek",
      "developer",
      "team player",
    ];

    function performAnimation(text: string) {
      return new Promise<void>(async (resolve, reject) => {
        await addText(text);
        await sleep(1000);
        await deleteText(text);
        resolve();
      });
    }
    const sleep = (milliseconds: number) => {
      return new Promise((resolve) => setTimeout(resolve, milliseconds));
    };

    async function deleteText(text: string) {
      for (let i = 0; i < text.length; i++) {
        changeText.innerHTML = changeText.innerHTML.slice(0, -1);
        await sleep(100);
      }
    }

    async function addText(text: string) {
      for (let i = 0; i < text.length; i++) {
        changeText.innerHTML += text[i];
        await sleep(100);
      }
    }

    while (true) {
      await performAnimation(setOfWords[index]);
      index = (index + 1) % setOfWords.length;
    }
  </script>
</section>
